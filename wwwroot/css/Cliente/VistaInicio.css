/* ====== Base ====== */
:root{
    --vino:#7b3740;
    --vino-dark:#391E22;
    --rosa:#f6d7db;
    --beige:#fff7f5;
    --gris:#666;
    --accent:#56373C;
    --card-shadow: 0 8px 24px rgba(55,35,37,0.08);
}

*{box-sizing:border-box}
body{
    margin:0; font-family: "Inter", "Segoe UI", system-ui, sans-serif;
    background: linear-gradient(180deg, #fffaf9 0%, #fffefc 100%);
    color: #222;
}

/* ===== NAVBAR ===== */
.navbar{
    display:flex; justify-content:space-between; align-items:center;
    padding:1rem 2rem; background: linear-gradient(90deg,var(--vino-dark),var(--vino));
    color:#fff; position:sticky; top:0; z-index:50;
    box-shadow: 0 6px 18px rgba(55,35,37,0.08);
}
.nav-left{display:flex;align-items:center;gap:1.5rem}
.logo{font-weight:700; font-size:1.25rem; letter-spacing:0.6px}
.mini-nav .nav-link{color:rgba(255,255,255,0.9); margin-right:0.6rem; text-decoration:none}

/* perfil y carrito */
.nav-right{display:flex; align-items:center; gap:0.6rem}
.perfil-btn{display:flex; align-items:center; gap:0.5rem; border-radius:999px; padding:0.35rem 0.6rem; border:none; background:transparent; color:#fff; cursor:pointer}
.perfil-circle{width:30px;height:30px;display:inline-flex; align-items:center;justify-content:center;border-radius:50%; background:#fff; color:var(--vino-dark); font-weight:700}
.perfil-text{font-size:0.95rem}

.carrito-btn{background:#fff; color:var(--vino-dark); border-radius:30px; padding:0.45rem 0.8rem; border:none; font-weight:700; cursor:pointer; position:relative}
.carrito-btn span{background:var(--vino-dark); color:#fff; padding:0.18rem 0.5rem; border-radius:999px; margin-left:6px; font-size:0.85rem}
.carrito-btn:hover{transform:translateY(-3px); transition:all .18s ease}

/* contador pop */
#contadorCarrito.pop{transform:scale(1.25); transition:transform .22s}

/* ====== Container ====== */
.container{max-width:1200px;margin:1.3rem auto;padding:0 1rem}

/* HEADER */
.catalogo-header{text-align:center;margin:1.2rem 0 1.6rem}
.catalogo-header h2{color:var(--vino-dark);font-size:1.6rem;margin:0}
.catalogo-header p{color:var(--gris); margin:0.4rem 0 0}

/* ==================================== */
/* üîé FILTROS (Dise√±o Centrado y Apilado) */
/* ==================================== */

/* Contenedor principal de filtros */
.filtros-container {
    display: flex;
    flex-direction: column; /* üí° CAMBIO: Apila los elementos verticalmente */
    align-items: center;    /* üí° CAMBIO: Centra la pila horizontalmente */
    gap: 20px; /* Espacio vertical entre el buscador y la caja de categor√≠as */
    margin-bottom: 30px;
    padding: 15px 0;
}

/* Estilo del input de b√∫squeda (buscador) */
.filtro-input {
    /* üí° CAMBIO: Le damos un ancho fijo y m√°ximo */
    width: 100%;
    max-width: 600px; /* Ajusta este ancho a tu gusto */
    box-sizing: border-box; /* Para que el padding no afecte el ancho total */
    
    /* (Mantenemos los estilos visuales de antes) */
    padding: 10px 15px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s;
    
    /* ‚ùå ELIMINADO: Ya no necesitamos 'flex-grow: 1;' */
}

.filtro-input:focus {
    border-color: #791c1c; 
    outline: none; 
    box-shadow: 0 0 0 3px rgba(121, 28, 28, 0.2);
}

/* Contenedor de Checkboxes y el bot√≥n de Reset */
.categorias-filtro-box {
    /* üí° CAMBIO: Hacemos que tenga el mismo ancho que el buscador */
    width: 100%;
    max-width: 600px; /* Debe coincidir con el max-width del buscador */
    box-sizing: border-box; /* Para que el padding no afecte el ancho total */
    
    /* (Mantenemos los estilos visuales de antes) */
    padding: 15px;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    background-color: #f7f7f7;
    position: relative; 
    
    /* ‚ùå ELIMINADO: Ya no necesitamos 'flex-basis', 'flex-grow' o 'min-width' */
}

/* (El resto de los estilos de .categorias-filtro-box h4, .checkbox-list, etc. 
   pueden permanecer exactamente iguales a como te los di antes) */

.categorias-filtro-box h4 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 16px;
    color: #333;
    border-bottom: 1px dashed #e0e0e0;
    padding-bottom: 5px;
}

.checkbox-list {
    display: flex;
    flex-wrap: wrap; 
    gap: 15px 25px; 
    margin-bottom: 10px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
    font-weight: 500;
    color: #555;
    transition: color 0.2s;
}

.checkbox-label:hover {
    color: #791c1c;
}

.categoria-checkbox {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    width: 16px;
    height: 16px;
    border: 2px solid #ccc;
    border-radius: 4px;
    margin-right: 8px;
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
}

.categoria-checkbox:checked {
    border-color: #791c1c;
    background-color: #791c1c;
}

.categoria-checkbox:checked::after {
    content: '\f00c';
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    font-size: 10px;
    color: white;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.reset-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: none;
    border: none;
    color: #dc3545;
    cursor: pointer;
    font-size: 18px;
    padding: 5px;
    line-height: 1;
    transition: color 0.2s, transform 0.2s;
}

.reset-btn:hover {
    color: #a00;
    transform: scale(1.1);
}

.buscador-container {
    position: relative; /* Clave para posicionar la 'X' */
    width: 100%;
    max-width: 600px; /* Aseg√∫rate que coincida con .categorias-filtro-box */
}

/* Ajustamos el input para que deje espacio a la 'X' */
.filtros-container .filtro-input {
    /* üí° CAMBIO: A√±adimos padding a la derecha para que el texto no quede debajo de la 'X' */
    padding-right: 40px; 
    
    /* Aseg√∫rate de que siga ocupando todo el contenedor */
    width: 100%;
    box-sizing: border-box; /* Importante */
}

/* Bot√≥n 'X' del buscador */
.reset-buscador-btn {
    position: absolute;
    right: 10px; /* Posici√≥n a la derecha */
    top: 50%;    /* Centrado vertical */
    transform: translateY(-50%);
    
    /* Estilos de la 'X' */
    background: none;
    border: none;
    cursor: pointer;
    color: #aaa;
    font-size: 24px; /* Tama√±o de la 'X' */
    font-weight: bold;
    line-height: 1;
    padding: 0 5px;
    
    /* üí° NUEVO: Oculto por defecto, JS lo mostrar√° */
    display: none; 
}

.reset-buscador-btn:hover {
    color: #333;
}

/* ‚ùå ELIMINADO: El bloque @media (max-width: 600px) ya no es necesario,
   porque este nuevo dise√±o (width: 100%; max-width: 600px) 
   es inherentemente responsivo. */
/* ====== Grid de productos ====== */
.catalogo-grid{
    display:grid;
    grid-template-columns: repeat(auto-fill,minmax(200px,1fr));
    gap:1rem;
    align-items:start;
}

/* Tarjeta */
.producto-card{
    background: linear-gradient(180deg,#ffffff,#fff9f8);
    border-radius:14px; padding:1rem; position:relative;
    box-shadow: var(--card-shadow); overflow:hidden;
    transition: transform .18s ease, box-shadow .18s ease;
}
.producto-card:hover{transform:translateY(-8px); box-shadow: 0 16px 40px rgba(55,35,37,0.12)}
.card-top{display:flex; justify-content:space-between; align-items:center}
.descuento{background:linear-gradient(90deg,var(--vino),var(--accent)); color:#fff; padding:6px 8px; border-radius:10px; font-size:0.8rem}
.fav{background:transparent;border:none;color:var(--vino-dark); font-size:1rem; cursor:pointer}
.producto-img{width:100%; height:140px; object-fit:contain; margin:0.6rem 0}
.producto-nombre{font-size:0.98rem; margin:0; color:#2c2324}
.precios{display:flex; gap:0.6rem; align-items:center; margin-top:0.4rem}
.precio-actual{font-weight:700; color:var(--vino-dark)}
.precio-antiguo{font-size:0.9rem; color:#b59; text-decoration:line-through}

/* acciones de tarjeta */
.card-actions{display:flex; justify-content:space-between; align-items:center; gap:0.5rem; margin-top:0.8rem}
.btn-agregar{background:var(--vino); color:#fff; border:none; width:38px; height:38px; border-radius:50%; cursor:pointer; font-weight:700; box-shadow:0 6px 20px rgba(123,55,64,0.08)}
.btn-ver{background:transparent; border:2px solid var(--rosa); padding:0.45rem 0.8rem; border-radius:10px; cursor:pointer}

/* ====== Modal gen√©rico centrado ====== */
.modal{ display:none; position:fixed; inset:0; z-index:400; align-items:center; justify-content:center; background: rgba(0,0,0,0.46); }
.modal.activo{ animation: fadeIn .18s ease both; }
@keyframes fadeIn{ from{opacity:0; transform:scale(.99)} to{opacity:1; transform:scale(1)} }

.modal-contenido{
    background:linear-gradient(180deg,#fff,#fffaf9);
    border-radius:14px; padding:1.1rem; width: min(920px,96%); max-height:92vh; overflow:auto;
    box-shadow: 0 20px 50px rgba(55,35,37,0.16);
}

/* PRODUCT MODAL */
.producto-modal{ display:flex; gap:1rem; padding:1.2rem; align-items:center; }
.modal-imagen img{width:300px; height:300px; object-fit:contain; border-radius:10px; background:#fff}
.modal-detalle{flex:1}
.modal-detalle h2{margin:0 0 0.5rem; color:var(--vino-dark)}
.modal-precio{font-size:1.5rem; color:var(--vino-dark); margin:0.5rem 0}

/* cantidad y botones modal */
.modal-cantidad{display:flex; gap:0.6rem; align-items:center; margin:0.6rem 0}
.modal-cantidad button{width:38px;height:38px;border-radius:50%;border:none;background:var(--accent);color:#fff;font-size:1.1rem; cursor:pointer}
.modal-cantidad input{width:70px;padding:0.5rem;border-radius:8px;border:1px solid #eee;text-align:center;font-size:1rem}

/* modal actions */
.modal-actions{display:flex; gap:0.6rem}
.btn-modal-carrito{background:var(--vino-dark); color:#fff;border:none;padding:0.7rem 1rem;border-radius:12px;cursor:pointer}
.btn-secondary{background:transparent;border:2px solid #eee;padding:0.6rem 0.9rem;border-radius:12px;cursor:pointer}

/* ====== CARRITO MODAL ====== */
.carrito-modal .modal-contenido{ width:660px; padding:1rem 1.2rem; }
.carrito-modal-contenido h3{margin:0 0 0.8rem; color:var(--vino-dark)}
.lista-carrito{list-style:none;padding:0;margin:0 0 0.8rem}
.lista-carrito .vacio{color:#999;padding:1rem;text-align:center}

/* item carrito */
.item-carrito{display:flex; gap:0.8rem; align-items:center; padding:0.6rem 0; border-bottom:1px dashed #f0eaea}
.item-carrito img{width:64px;height:64px; object-fit:contain;border-radius:8px}
.item-carrito .info{flex:1}
.item-carrito .nombre{font-weight:600;margin:0; font-size:0.95rem}
.item-carrito .row{display:flex; justify-content:space-between; align-items:center}
.qty-controls{display:flex; align-items:center; gap:0.4rem}
.qty-controls button{width:32px;height:32px;border-radius:6px;border:none;background:#f1dfe0; cursor:pointer}
.qty-controls input{width:56px;padding:6px;border-radius:6px;border:1px solid #eee; text-align:center}
.btn-eliminar{background:transparent;border:none;color:#b53;cursor:pointer;font-size:1rem}

/* resumen y acciones */
.carrito-resumen{margin-top:0.8rem; display:flex; flex-direction:column; gap:0.6rem}
.resumen-line{display:flex; justify-content:space-between; align-items:center}
.resumen-line.total{font-weight:800; font-size:1.1rem; color:var(--vino-dark)}
.codigo-descuento{display:flex; gap:0.5rem; margin-top:0.4rem}
.codigo-descuento input{flex:1;padding:0.6rem;border-radius:10px;border:1px solid #eee}
.codigo-descuento button{padding:0.6rem 0.9rem;border-radius:10px;border:none;background:var(--vino);color:#fff;cursor:pointer}
.carrito-buttons{display:flex; gap:0.6rem; margin-top:0.6rem}
.btn-pagar{background:linear-gradient(90deg,var(--vino),var(--accent)); color:#fff;border:none;padding:0.7rem 1rem;border-radius:12px; cursor:pointer}
.btn-pagar:hover{transform:translateY(-3px); transition:all .15s}

/* RESPONSIVE */
@media (max-width:860px){
    .producto-modal{ flex-direction:column; align-items:center }
    .modal-imagen img{width:220px;height:220px}
    .carrito-modal .modal-contenido{ width:94% }
}