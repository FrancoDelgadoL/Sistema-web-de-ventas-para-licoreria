@model Ezel_Market.Models.Inventario

@{
    ViewData["Title"] = "Eliminar Producto";
}

<h1>¿Seguro que deseas eliminar este producto?</h1>

<div>
    <h4>@Model.NombreProducto</h4>
    
    <!-- ✅ CORREGIDO: Cambiar de Model.Categorias a Model.CategoriaInventarios -->
    <p>
        Categoría: 
        @if (Model.CategoriaInventarios != null && Model.CategoriaInventarios.Any())
        {
            @string.Join(", ", Model.CategoriaInventarios.Select(ci => ci.Categoria?.Nombre))
        }
        else
        {
            <span class="text-muted">Sin categorías</span>
        }
    </p>
    
    <p>Cantidad: @Model.Cantidad</p>
    <p>Precio Venta Minorista: S/ @Model.PrecioVentaMinorista</p>
    <p>Precio Venta Mayorista: S/ @Model.PrecioVentaMayorista</p>
    
    <!-- Mostrar imagen si existe -->
    @if (!string.IsNullOrEmpty(Model.Imagen))
    {
        <div class="mt-3">
            <img src="@Model.Imagen" alt="@Model.NombreProducto" style="max-width: 200px; max-height: 200px;" class="img-thumbnail" />
        </div>
    }
</div>

<form asp-action="Delete" method="post">
    <input type="hidden" asp-for="Id" />
    <button type="submit" class="btn btn-danger">Eliminar</button>
    <a asp-action="Index" class="btn btn-secondary">Cancelar</a>
</form>